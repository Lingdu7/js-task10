{"version":3,"sources":["webpack:///./src/components/form/editArticle.vue?f4cf","webpack:///src/components/form/editArticle.vue","webpack:///./src/components/form/editArticle.vue?411e","webpack:///./src/components/form/editArticle.vue","webpack:///./src/components/form/editArticle.vue?f030"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","attrs","addForm","model","value","callback","$$v","$set","expression","query","_l","item","key","label","isClear","on","change","directives","name","rawName","dialogImageUrl","show","handlePictureCardPreview","handlePictureCardSuccess","handleExceed","beforeRemove","dialogVisibl","$event","_v","addOnline","addDraft","noshow","staticRenderFns","data","title","type","content","url","dialogVisible","createAt","methods","turnType","console","log","axios","method","params","status","img","alert","res","file","$confirm","$message","warning","computed","created","editid","component"],"mappings":"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","file":"js/chunk-95b51ed6.15fe8d1d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mokuai\"},[_vm._m(0),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.addForm,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"标题名称\"}},[_c('el-input',{model:{value:(_vm.addForm.title),callback:function ($$v) {_vm.$set(_vm.addForm, \"title\", $$v)},expression:\"addForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"类    型\"}},[_c('el-select',{attrs:{\"placeholder\":\"全部\"},model:{value:(_vm.query),callback:function ($$v) {_vm.query=$$v},expression:\"query\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"说 明\"}},[_c('editor-bar',{attrs:{\"isClear\":_vm.isClear},on:{\"change\":_vm.change},model:{value:(_vm.addForm.content),callback:function ($$v) {_vm.$set(_vm.addForm, \"content\", $$v)},expression:\"addForm.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"跳转链接\"}},[_c('el-input',{model:{value:(_vm.addForm.url),callback:function ($$v) {_vm.$set(_vm.addForm, \"url\", $$v)},expression:\"addForm.url\"}})],1),_c('el-form-item',{attrs:{\"label\":\"配 图\"}},[_c('el-image',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],staticClass:\"upload-demo\",attrs:{\"src\":_vm.addForm.dialogImageUrl}}),_c('el-upload',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.show),expression:\"!show\"}],staticClass:\"upload-demo\",attrs:{\"action\":\"/api/a/u/img/{module}\",\"list-type\":\"picture-card\",\"limit\":1,\"show-file-list\":true,\"on-preview\":_vm.handlePictureCardPreview,\"on-success\":_vm.handlePictureCardSuccess,\"on-exceed\":_vm.handleExceed,\"before-remove\":_vm.beforeRemove}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.addForm.dialogVisibl},on:{\"update:visible\":function($event){return _vm.$set(_vm.addForm, \"dialogVisibl\", $event)}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.addForm.dialogImageUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"el-upload__tip\"},[_vm._v(\"\\n        只能上传\\n        \"),_c('strong',[_vm._v(\"1张jpg/png\")]),_vm._v(\"文件，且不超过500kb\\n      \")])],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addOnline}},[_vm._v(\"立即上线\")]),_c('el-button',{on:{\"click\":_vm.addDraft}},[_vm._v(\"存为草稿\")]),_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show),expression:\"show\"}],on:{\"click\":_vm.noshow}},[_vm._v(\"更改图片\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mk-box\"},[_c('h5',[_vm._v(\"编辑Article\")])])}]\n\nexport { render, staticRenderFns }","\n<template>\n  <div class=\"mokuai\">\n    <div class=\"mk-box\">\n      <h5>编辑Article</h5>\n    </div>\n    <el-form ref=\"form\" :model=\"addForm\" label-width=\"80px\">\n      <el-form-item label=\"标题名称\">\n        <el-input v-model=\"addForm.title\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"类    型\">\n        <el-select v-model=\"query\" placeholder=\"全部\">\n          <el-option\n            v-for=\"item in options\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"说 明\">\n        <editor-bar v-model=\"addForm.content\" :isClear=\"isClear\" @change=\"change\" ></editor-bar>\n      \n      </el-form-item>\n      <el-form-item label=\"跳转链接\">\n        <el-input v-model=\"addForm.url\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"配 图\">\n        <el-image class=\"upload-demo\" v-show=\"show\" :src=\"addForm.dialogImageUrl\"></el-image>\n        <el-upload\n          v-show=\"!show\"\n          action=\"/api/a/u/img/{module}\"\n          list-type=\"picture-card\"\n          :limit=\"1\"\n          class=\"upload-demo\"\n          :show-file-list=\"true\"\n          :on-preview=\"handlePictureCardPreview\"\n          :on-success=\"handlePictureCardSuccess\"\n          :on-exceed=\"handleExceed\"\n          :before-remove=\"beforeRemove\"\n        >\n          <i class=\"el-icon-plus\"></i>\n        </el-upload>\n        <el-dialog :visible.sync=\"addForm.dialogVisibl\">\n          <img width=\"100%\" :src=\"addForm.dialogImageUrl\" alt />\n        </el-dialog>\n\n        <div class=\"el-upload__tip\">\n          只能上传\n          <strong>1张jpg/png</strong>文件，且不超过500kb\n        </div>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"addOnline\">立即上线</el-button>\n        <el-button @click=\"addDraft\">存为草稿</el-button>\n        <el-button @click=\"noshow\" v-show=\"show\">更改图片</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport EditorBar from '../wangEnduit'\nexport default {\n   components: { EditorBar },\n  name: \"mokuai\",\n  data() {\n    return {\n       options: [{\n          value: '0',\n          label: '首页banner'\n        }, {\n          value: '1',\n          label: '找职位banner'\n        }, {\n          value: '2',\n          label: '找精英banner'\n        }, {\n          value: '3',\n          label: '行业大图'\n        }],\n        query:''\n        ,\n      addForm: {\n        title: \"\",\n        type: \"\",\n        content: \"\",\n        url: \"\",\n        dialogImageUrl: \"\",\n        dialogVisible: false,\n        createAt: \"\"\n      },\n      show: true\n    };\n  },\n  methods: {\n    turnType(type) {\n      switch (type) {\n        case 0:\n          return \"首页Banner\";\n        case 1:\n          return \"找职位Banner\";\n        case 2:\n          return \"找精英Banner\";\n        case 3:\n          return \"行业大图\";\n      }\n    },\n    noshow() {\n      this.show = false, \n      this.addForm.dialogImageUrl = \"\";\n    },\n    addOnline() {\n      this.addForm.type=this.query\n      if (\n        this.addForm.title &&\n        this.addForm.type &&\n        this.addForm.dialogImageUrl &&\n        this.addForm.url &&\n        this.addForm.type\n      ) {\n        \n        console.log(this.addForm);\n        this.axios({\n          url: `/api/a/u/article/${this.editid}`,\n          method: \"put\",\n          params: {\n            title: this.addForm.title,\n            status: \"2\",\n            img: this.addForm.dialogImageUrl,\n            url: this.addForm.url,\n            type: this.addForm.type,\n            createAt: this.addForm.createAt,\n            content: this.addForm.content\n          }\n        }).then(res => {\n          alert(\"修改成功,状态为上线\");\n          this.$router.push(\"/home/search\");\n          console.log(res);\n        });\n      } else {\n        alert(\"请输入完整的数据\");\n      }\n    },\n    addDraft() {\n      this.addForm.type=this.query\n      if (\n        this.addForm.title &&\n        this.addForm.type &&\n        this.addForm.dialogImageUrl &&\n        this.addForm.url &&\n        this.addForm.type\n      ) { \n        this.axios({\n          url: `/api/a/u/article/${this.editid}`,\n          method: \"put\",\n          params: {\n            title: this.addForm.title,\n            status: \"1\",\n            img: this.addForm.dialogImageUrl,\n            url: this.addForm.url,\n            type: this.addForm.type,\n            createAt: this.addForm.createAt,\n            content: this.addForm.content\n          }\n        }).then(res => {\n          alert(\"修改成功,状态为草稿\");\n          this.$router.push(\"/home/search\");\n          console.log(res);\n        });\n      } else {\n        alert(\"请输入完整的数据\");\n      }\n    },\n    handlePictureCardPreview(file) {\n      this.addForm.dialogVisible = true;\n    },\n    handlePictureCardSuccess(file) {\n      console.log(file);\n      this.addForm.dialogImageUrl = file.data.url;\n      console.log(this.addForm.dialogImageUrl);\n    },\n\n    beforeRemove(file, fileList) {\n      return this.$confirm(`确定移除 ${file.name}？`);\n    },\n    handleExceed(files, fileList) {\n      this.$message.warning(`当前限制上传 1 张图片，已成功上传1张图片`);\n    }\n  },\n  computed: mapState([\"editid\"]),\n  created() {\n    console.log(this.editid);\n    this.axios({\n      url: `/api/a/article/${this.editid}`,\n      method: \"get\"\n    }).then(res => {\n      console.log(res);\n      this.addForm.url = res.data.data.article.url;\n      this.addForm.title = res.data.data.article.title;\n      this.query = String(res.data.data.article.type);\n      this.addForm.content = res.data.data.article.content;\n      this.addForm.dialogImageUrl = res.data.data.article.img;\n      this.addForm.createAt = res.data.data.article.createAt;\n      console.log(this.addForm);\n      console.log(this.query);\n    });\n  }\n};\n</script>\n\n\n<style scoped>\nform {\n  margin: 20px auto;\n  width: 98%;\n}\nform > div {\n  width: 90%;\n  margin: 10px auto;\n}\nform > div > .col-sm-2 {\n  text-align: end;\n}\n.mokuai {\n  border: 1px #999 solid;\n  border-radius: 10px;\n}\n\n.mk-box {\n  display: flex;\n  justify-content: space-between;\n  background: #f5f5f5;\n  padding: 10px 30px;\n  border-radius: 10px 10px 0 0;\n}\n.mk-box h5 {\n  margin: 0;\n  line-height: 35px;\n}\ninput[type=\"text\"] {\n  border: 1px #999 solid;\n  width: calc(100% - 45px);\n  border-radius: 5px;\n}\n.button {\n  border-radius: 5px;\n  background: #f5f5f5;\n  width: 25%;\n  margin: 10px 20px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editArticle.vue?vue&type=template&id=64495719&scoped=true&\"\nimport script from \"./editArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./editArticle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editArticle.vue?vue&type=style&index=0&id=64495719&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"64495719\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editArticle.vue?vue&type=style&index=0&id=64495719&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editArticle.vue?vue&type=style&index=0&id=64495719&scoped=true&lang=css&\""],"sourceRoot":""}